var map=new Map("seconde"),joueur=new Personnage("drogon.png",20,2,DIRECTION.BAS),joueur1=new Personnage("nerd.png",18,12,DIRECTION.BAS);map.addPersonnage(joueur1),map.addPersonnage(joueur);var nameMap="seconde";window.onload=function(){$("#myModal").modal("show"),$("#canvasdiv").append('<div id="touchehelp"><img src="assets/img/touche.png" id="touche" alt="photo touche" height="725px" width="425px"/></div>'),$("#canvas").attr({style:"position: absolute;"}),$("#touche").attr({style:"display: block; position: relative; float: right;"});var e=document.getElementById("audio"),n=!1;audio.addEventListener("ended",function(){audio.currentTime=0,e.play()}),audio=function(){0==n?(e.play(),n=!0):(e.pause(),n=!1)};var a=document.getElementById("canvas"),o=a.getContext("2d");document.getElementById("canvasdiv");a.width=1534,a.height=744,window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,n){window.setTimeout(e,1e3/60)},function e(){requestAnimFrame(e),map.dessinerMap(o)}(),window.onkeydown=function(e){var n=e||window.event,a=n.which||n.keyCode;if(!document.getElementById("wizard"))switch(a){case 38:joueur.deplacer(DIRECTION.HAUT,map);break;case 40:joueur.deplacer(DIRECTION.BAS,map);break;case 37:joueur.deplacer(DIRECTION.GAUCHE,map);break;case 39:joueur.deplacer(DIRECTION.DROITE,map);break;case 27:document.location.href="https://romualdd.github.io/";break;case 80:audio();break;default:return!0}if(console.log(nameMap),console.log(joueur.y),console.log("x :"+joueur.x),4==joueur.x&&6==joueur.y&&"seconde"==nameMap){map=new Map("troisieme"),joueur=new Personnage("drogon.png",23,21,DIRECTION.HAUT);var o=new Personnage("wiz.png",23,2,DIRECTION.BAS);map.addPersonnage(joueur),map.addPersonnage(o),nameMap="troisieme"}else if(33==joueur.x&&4==joueur.y&&"seconde"==nameMap){map=new Map("quatrieme"),joueur=new Personnage("drogon.png",23,21,DIRECTION.HAUT);o=new Personnage("knight.png",23,2,DIRECTION.BAS);map.addPersonnage(joueur),map.addPersonnage(o),nameMap="quatrieme"}else if(4==joueur.x&&16==joueur.y&&"seconde"==nameMap){map=new Map("cinquieme"),joueur=new Personnage("drogon.png",23,21,DIRECTION.HAUT);o=new Personnage("bard.png",23,2,DIRECTION.BAS);map.addPersonnage(joueur),map.addPersonnage(o),nameMap="cinquieme"}else if(30==joueur.x&&15==joueur.y&&"seconde"==nameMap){map=new Map("sixieme"),joueur=new Personnage("drogon.png",23,21,DIRECTION.HAUT);o=new Personnage("blacksmith.png",23,2,DIRECTION.BAS);map.addPersonnage(joueur),map.addPersonnage(o),nameMap="sixieme"}else if((23==joueur.x||24==joueur.x||22==joueur.x)&&22==joueur.y&&"seconde"!=nameMap)if("troisieme"==nameMap){map=new Map("seconde"),joueur=new Personnage("drogon.png",4,7,DIRECTION.HAUT),map.addPersonnage(joueur);o=new Personnage("nerd.png",18,12,DIRECTION.BAS);map.addPersonnage(o),nameMap="seconde"}else if("quatrieme"==nameMap){map=new Map("seconde"),joueur=new Personnage("drogon.png",33,5,DIRECTION.HAUT),map.addPersonnage(joueur);o=new Personnage("nerd.png",18,12,DIRECTION.BAS);map.addPersonnage(o),nameMap="seconde"}else if("cinquieme"==nameMap){map=new Map("seconde"),joueur=new Personnage("drogon.png",4,17,DIRECTION.HAUT),map.addPersonnage(joueur);o=new Personnage("nerd.png",18,12,DIRECTION.BAS);map.addPersonnage(o),nameMap="seconde"}else if("sixieme"==nameMap){map=new Map("seconde"),joueur=new Personnage("drogon.png",30,16,DIRECTION.HAUT),map.addPersonnage(joueur);o=new Personnage("nerd.png",18,12,DIRECTION.BAS);map.addPersonnage(o),nameMap="seconde"}return!1}};
